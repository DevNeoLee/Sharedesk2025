               
    <% @browse_result.each do |room| %>  
        <div class="col-md-4">
            <%=link_to room_path(room.id) do %>
                <div class="card mb-2 shadow text-center mb-3 city-card">
                    <div class="card-header text-center">
                        <div class="h4"><%= room.listing_name %></div> 
                    </div>
                    <% if room.images.attached? %>
                        <%= image_tag room.medium_image(room.images[0]), class: "img-fluid image-medium"%>
                    <% end %>
                    <div class="card-body">
                        <div class="card-text">
                            <%= room.address %>
                        </div>
                        <div class="star-rating star-rating-large my-2 mx-auto d-block" data-score="<%= room.average_rating || 0 %>"></div>
                    </div>
                </div>
            <% end %>
        </div>    
    <% end %>


<!-- Star rating CSS is now centralized in site.scss -->

<script>
  document.addEventListener('DOMContentLoaded', function() {
    console.log('[Star Rating Debug] Initializing pure CSS star ratings (rooms)');
    
    // Initialize all star rating elements
    document.querySelectorAll('.star-rating').forEach(function(element, index) {
      const score = parseFloat(element.dataset.score) || 0;
      
      // Round to nearest 0.5 for better display
      const roundedScore = Math.round(score * 2) / 2;
      element.setAttribute('data-score', roundedScore);
      
      console.log(`[Star Rating Debug] Element ${index + 1} initialized with score: ${roundedScore}`);
    });
    
    console.log('[Star Rating Debug] Pure CSS star ratings completed (rooms)');
  });
</script>
